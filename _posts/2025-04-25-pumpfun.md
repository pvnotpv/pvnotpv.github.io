---
title: PumpFun - Going deep into the token creation and migration process.
date: 2025-04-25
categories: [web3]
tags: [dex, pumpfun]    
pin: true
description: How does every single newly released coin instantly have a market cap of $5,000???!
---

PS: This is going to be the best guide out there on realTokenReserves, virtualTokenReserves, virtualSolReserves and realSolReserves.

> So recently I've been trying to automate the token buying and selling mechanism on pumpFun but kinda struggled at figuring out on how it works at the blockchain level and the mathematical aspect of it even though it uses the constant product formula, just wanted to make a quick small guide on explaining the above terms.

### Getting the bondingCurve account of a mint address 

```typescript
async function getBondingCurveAddress(mint: PublicKey) {
  const mintAccount: PublicKey = new PublicKey(mint)
  const [bondingCurve, _]: [PublicKey, Number] = PublicKey.findProgramAddressSync(
  [
    Buffer.from("bonding-curve"),
    mintAccount.toBuffer()
  ], 
  PUMP_FUN_PROGRAM
  )

  return bondingCurve

}
```
To derive the the bonding curve address from the mint account you use use this particular seed.

### Parsing the data from the bondingCurve account

If we take a look at the pumpFun idl file , we can see that:

```json
{
      "name": "BondingCurve",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "virtualTokenReserves",
            "type": "u64"
          },
          {
            "name": "virtualSolReserves",
            "type": "u64"
          },
          {
            "name": "realTokenReserves",
            "type": "u64"
          },
          {
            "name": "realSolReserves",
            "type": "u64"
          },
          {
            "name": "tokenTotalSupply",
            "type": "u64"
          },
          {
            "name": "complete",
            "type": "bool"
          }
        ]
      }
    }
```

This is the bondingCurve struct and to parse the data we can use:

```typescript
const struct = await program.account.bondingCurve.fetch(bondingCurveAdress);
```

Okay now comes's the real part , So I'll be taking a few examples from the pumpFun token with different marketCaps to explain how this works. 
